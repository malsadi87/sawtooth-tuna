root@142e212f6557:/project/sawtooth-tuna/backend# npm run test:e2e

> backend@0.0.1 test:e2e /project/sawtooth-tuna/backend
> test/test.sh


> backend@0.0.1 test:e2e:authenticate /project/sawtooth-tuna/backend
> jest --config ./test/jest.authenticate.config.js

  console.log
    query: SELECT * FROM current_schema()

      at Function.logInfo (../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: CREATE EXTENSION IF NOT EXISTS "uuid-ossp"

      at Function.logInfo (../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT version();

      at Function.logInfo (../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: INSERT INTO "Users"("Id", "FullName", "IsActive", "CreatedDate", "CreatedBy", "UpdatedDate", "UpdatedBy", "UserName", "NormalizedUserName", "Email", "NormalizedEmail", "EmailConfirmed", "PasswordHash", "SecurityStamp", "ConcurrencyStamp", "PhoneNumber", "PhoneNumberConfirmed", "TwoFactorEnabled", "LockoutEnd", "LockoutEnabled", "AccessFailedCount", "BlockchainInfoId") VALUES (DEFAULT, $1, $2, $3, DEFAULT, $4, DEFAULT, DEFAULT, DEFAULT, $5, DEFAULT, $6, $7, DEFAULT, DEFAULT, DEFAULT, $8, $9, DEFAULT, $10, $11, DEFAULT) RETURNING "Id" -- PARAMETERS: ["hermes",true,"2022-10-09T12:50:02.838Z","2022-10-09T12:50:02.838Z","hermes@ntnu.no",false,"asd123",false,false,false,0]

      at Function.logInfo (../../src/platform/PlatformTools.ts:229:17)

  console.log
    query failed: INSERT INTO "Users"("Id", "FullName", "IsActive", "CreatedDate", "CreatedBy", "UpdatedDate", "UpdatedBy", "UserName", "NormalizedUserName", "Email", "NormalizedEmail", "EmailConfirmed", "PasswordHash", "SecurityStamp", "ConcurrencyStamp", "PhoneNumber", "PhoneNumberConfirmed", "TwoFactorEnabled", "LockoutEnd", "LockoutEnabled", "AccessFailedCount", "BlockchainInfoId") VALUES (DEFAULT, $1, $2, $3, DEFAULT, $4, DEFAULT, DEFAULT, DEFAULT, $5, DEFAULT, $6, $7, DEFAULT, DEFAULT, DEFAULT, $8, $9, DEFAULT, $10, $11, DEFAULT) RETURNING "Id" -- PARAMETERS: ["hermes",true,"2022-10-09T12:50:02.838Z","2022-10-09T12:50:02.838Z","hermes@ntnu.no",false,"asd123",false,false,false,0]

      at Function.logError (../../src/platform/PlatformTools.ts:233:17)

  console.log
    error: error: duplicate key value violates unique constraint "Users_Email_key"
        at Parser.parseErrorMessage (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:369:69)
        at Parser.handlePacket (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:188:21)
        at Parser.parse (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:103:30)
        at Socket.<anonymous> (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/index.ts:7:48)
        at Socket.emit (events.js:314:20)
        at addChunk (_stream_readable.js:297:12)
        at readableAddChunk (_stream_readable.js:272:9)
        at Socket.Readable.push (_stream_readable.js:213:10)
        at TCP.onStreamRead (internal/stream_base_commons.js:188:23) {
      length: 208,
      severity: 'ERROR',
      code: '23505',
      detail: 'Key ("Email")=(hermes@ntnu.no) already exists.',
      hint: undefined,
      position: undefined,
      internalPosition: undefined,
      internalQuery: undefined,
      where: undefined,
      schema: 'public',
      table: 'Users',
      column: undefined,
      dataType: undefined,
      constraint: 'Users_Email_key',
      file: 'nbtinsert.c',
      line: '663',
      routine: '_bt_check_unique'
    }

      at Function.logError (../../src/platform/PlatformTools.ts:233:17)

  console.log
    query: ROLLBACK

      at Function.logInfo (../../src/platform/PlatformTools.ts:229:17)

  console.log
    QueryFailedError: duplicate key value violates unique constraint "Users_Email_key"
        at PostgresQueryRunner.query (/project/sawtooth-tuna/backend/src/driver/postgres/PostgresQueryRunner.ts:299:19)
        at processTicksAndRejections (internal/process/task_queues.js:97:5) {
      query: 'INSERT INTO "Users"("Id", "FullName", "IsActive", "CreatedDate", "CreatedBy", "UpdatedDate", "UpdatedBy", "UserName", "NormalizedUserName", "Email", "NormalizedEmail", "EmailConfirmed", "PasswordHash", "SecurityStamp", "ConcurrencyStamp", "PhoneNumber", "PhoneNumberConfirmed", "TwoFactorEnabled", "LockoutEnd", "LockoutEnabled", "AccessFailedCount", "BlockchainInfoId") VALUES (DEFAULT, $1, $2, $3, DEFAULT, $4, DEFAULT, DEFAULT, DEFAULT, $5, DEFAULT, $6, $7, DEFAULT, DEFAULT, DEFAULT, $8, $9, DEFAULT, $10, $11, DEFAULT) RETURNING "Id"',
      parameters: [
        'hermes',
        true,
        2022-10-09T12:50:02.838Z,
        2022-10-09T12:50:02.838Z,
        'hermes@ntnu.no',
        false,
        'asd123',
        false,
        false,
        false,
        0
      ],
      driverError: error: duplicate key value violates unique constraint "Users_Email_key"
          at Parser.parseErrorMessage (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:369:69)
          at Parser.handlePacket (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:188:21)
          at Parser.parse (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:103:30)
          at Socket.<anonymous> (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/index.ts:7:48)
          at Socket.emit (events.js:314:20)
          at addChunk (_stream_readable.js:297:12)
          at readableAddChunk (_stream_readable.js:272:9)
          at Socket.Readable.push (_stream_readable.js:213:10)
          at TCP.onStreamRead (internal/stream_base_commons.js:188:23) {
        length: 208,
        severity: 'ERROR',
        code: '23505',
        detail: 'Key ("Email")=(hermes@ntnu.no) already exists.',
        hint: undefined,
        position: undefined,
        internalPosition: undefined,
        internalQuery: undefined,
        where: undefined,
        schema: 'public',
        table: 'Users',
        column: undefined,
        dataType: undefined,
        constraint: 'Users_Email_key',
        file: 'nbtinsert.c',
        line: '663',
        routine: '_bt_check_unique'
      },
      length: 208,
      severity: 'ERROR',
      code: '23505',
      detail: 'Key ("Email")=(hermes@ntnu.no) already exists.',
      hint: undefined,
      position: undefined,
      internalPosition: undefined,
      internalQuery: undefined,
      where: undefined,
      schema: 'public',
      table: 'Users',
      column: undefined,
      dataType: undefined,
      constraint: 'Users_Email_key',
      file: 'nbtinsert.c',
      line: '663',
      routine: '_bt_check_unique'
    }

      at UsersService.addUser (../../src/app/feature/users/users.service.ts:58:21)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../src/platform/PlatformTools.ts:229:17)

  console.log
    **************

      at Object.<anonymous> (authenticate.e2e-spec.ts:57:13)

  console.log
    JWT TOKEN FOR TESTING

      at Object.<anonymous> (authenticate.e2e-spec.ts:58:13)

  console.log
    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Imhlcm1lc0BudG51Lm5vIiwiaWQiOiJmY2RkMjJmOC05NWYwLTQ2OTktYmNlMS0yODk5M2RhNDk5ZDQiLCJmdWxsTmFtZSI6Imhlcm1lcyIsInRva2VuX3R5cGUiOiJCZWFyZXIiLCJpYXQiOjE2NjUzMTk4MDMsImV4cCI6MTY2NTkyNDYwM30.09jlRpZJqtxAPguYQ7Goh6sg3VB2rIJax4xT1H7zUT0

      at Object.<anonymous> (authenticate.e2e-spec.ts:59:13)

  console.log
    **************

      at Object.<anonymous> (authenticate.e2e-spec.ts:60:13)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../src/platform/PlatformTools.ts:229:17)

 FAIL  test/authenticate/authenticate.e2e-spec.ts (7.618 s)
  AppController (e2e)
    ✕ Can signup a new user. Remember to clear the database for this to pass (POST) (265 ms)
    ✓ Cant signup with bad email (8 ms)
    ✓ Can login with valid credentials (69 ms)
    ✓ Cant login with invalid credentials (16 ms)

  ● AppController (e2e) › Can signup a new user. Remember to clear the database for this to pass (POST)

    expected 201 "Created", got 500 "Internal Server Error"

      28 |         "password": "asd123"
      29 |       })
    > 30 |       .expect(201)
         |        ^
      31 |     return response
      32 |     // TODO: Check if user exists
      33 |   });

      at Object.<anonymous> (authenticate.e2e-spec.ts:30:8)
      ----
      at Test._assertStatus (../../node_modules/supertest/lib/test.js:252:14)
      at ../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../node_modules/supertest/lib/test.js:120:14)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 3 passed, 4 total
Snapshots:   0 total
Time:        7.728 s, estimated 8 s
Ran all test suites.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! backend@0.0.1 test:e2e:authenticate: `jest --config ./test/jest.authenticate.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the backend@0.0.1 test:e2e:authenticate script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2022-10-09T12_50_03_370Z-debug.log
TEST FAILED: authenticate

> backend@0.0.1 test:e2e:tp:product /project/sawtooth-tuna/backend
> jest --config ./test/jest.tp.product.config.js

  console.log
    query: SELECT * FROM current_schema()

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: CREATE EXTENSION IF NOT EXISTS "uuid-ossp"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT version();

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "ProductEntity"."ProductId" AS "ProductEntity_ProductId", "ProductEntity"."ProductName" AS "ProductEntity_ProductName", "ProductEntity"."ProductDescription" AS "ProductEntity_ProductDescription", "ProductEntity"."ProductNum" AS "ProductEntity_ProductNum" FROM "Product" "ProductEntity" WHERE "ProductEntity"."ProductId" IN ($1) -- PARAMETERS: [3]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: UPDATE "Product" SET "ProductName" = $1, "ProductDescription" = $2 WHERE "ProductId" IN ($3) -- PARAMETERS: ["NameString","DescriptionString",3]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)
          at async Promise.all (index 0)

  console.log
    query: COMMIT

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "ProductEntity"."ProductId" AS "ProductEntity_ProductId", "ProductEntity"."ProductName" AS "ProductEntity_ProductName", "ProductEntity"."ProductDescription" AS "ProductEntity_ProductDescription", "ProductEntity"."ProductNum" AS "ProductEntity_ProductNum" FROM "Product" "ProductEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "ProductEntity"."ProductId" AS "ProductEntity_ProductId", "ProductEntity"."ProductName" AS "ProductEntity_ProductName", "ProductEntity"."ProductDescription" AS "ProductEntity_ProductDescription", "ProductEntity"."ProductNum" AS "ProductEntity_ProductNum" FROM "Product" "ProductEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "ProductEntity"."ProductId" AS "ProductEntity_ProductId", "ProductEntity"."ProductName" AS "ProductEntity_ProductName", "ProductEntity"."ProductDescription" AS "ProductEntity_ProductDescription", "ProductEntity"."ProductNum" AS "ProductEntity_ProductNum" FROM "Product" "ProductEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "ProductEntity"."ProductId" AS "ProductEntity_ProductId", "ProductEntity"."ProductName" AS "ProductEntity_ProductName", "ProductEntity"."ProductDescription" AS "ProductEntity_ProductDescription", "ProductEntity"."ProductNum" AS "ProductEntity_ProductNum" FROM "Product" "ProductEntity" WHERE "ProductEntity"."ProductId" IN ($1) -- PARAMETERS: [3]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: UPDATE "Product" SET "ProductName" = $1, "ProductDescription" = $2 WHERE "ProductId" IN ($3) -- PARAMETERS: ["NameStringChanged","DescriptionStringChanged",3]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)
          at async Promise.all (index 0)

  console.log
    query: COMMIT

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

 FAIL  test/tp/product/product.e2e-spec.ts (7.73 s)
  Product (e2e)
    ✓ Can authenticate (181 ms)
    ✓ Can create a product with authentication (124 ms)
    ✓ Cant create a product without authentication (7 ms)
    ✕ Can read a product with authentication - known to fail (30 ms)
    ✕ Cant read a product that doesnt exist - known to fail (23 ms)
    ✓ Cant read a product without authentication (10 ms)
    ✓ Can read all products with authentication (24 ms)
    ✓ Cant read all products without authentication (4 ms)
    ✕ Cant overwrite a product with authentication - known to fail (45 ms)

  ● Product (e2e) › Can read a product with authentication - known to fail

    expect(received).toEqual(expected) // deep equality

    Expected: 3
    Received: undefined

      62 |       .set('Authorization', `Bearer ${jwtToken}`)
      63 |       .expect(200)
    > 64 |     expect(response.body.productId).toEqual<number>(3)
         |                                     ^
      65 |     expect(response.body.productName).toEqual<string>("NameString")
      66 |     expect(response.body.productDescription).toEqual<string>("DescriptionString")
      67 |     expect(response.body.productNum).toEqual<number>(1)

      at Object.<anonymous> (product.e2e-spec.ts:64:37)

  ● Product (e2e) › Cant read a product that doesnt exist - known to fail

    expected 404 "Not Found", got 200 "OK"

      73 |       .get('/api/v1/sawtooth/tp/product/?productId=404')
      74 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 75 |       .expect(404)
         |        ^
      76 |     return response
      77 |   });
      78 |

      at Object.<anonymous> (product.e2e-spec.ts:75:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● Product (e2e) › Cant overwrite a product with authentication - known to fail

    expected 400 "Bad Request", got 201 "Created"

      115 |       })
      116 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 117 |       .expect(400)
          |        ^
      118 |     return response
      119 |   });
      120 |

      at Object.<anonymous> (product.e2e-spec.ts:117:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

Test Suites: 1 failed, 1 total
Tests:       3 failed, 6 passed, 9 total
Snapshots:   0 total
Time:        7.845 s, estimated 8 s
Ran all test suites.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! backend@0.0.1 test:e2e:tp:product: `jest --config ./test/jest.tp.product.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the backend@0.0.1 test:e2e:tp:product script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2022-10-09T12_50_12_589Z-debug.log
TEST FAILED: product

> backend@0.0.1 test:e2e:tp:trip /project/sawtooth-tuna/backend
> jest --config ./test/jest.tp.trip.config.js

  console.log
    query: SELECT * FROM current_schema()

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: CREATE EXTENSION IF NOT EXISTS "uuid-ossp"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT version();

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "TripEntity"."PkTrip" AS "TripEntity_PkTrip", "TripEntity"."TripWithinYearNo" AS "TripEntity_TripWithinYearNo", "TripEntity"."VesselName" AS "TripEntity_VesselName", "TripEntity"."DepartureDate" AS "TripEntity_DepartureDate", "TripEntity"."DeparturePort" AS "TripEntity_DeparturePort", "TripEntity"."LandingDate" AS "TripEntity_LandingDate", "TripEntity"."LandingPort" AS "TripEntity_LandingPort" FROM "Trip" "TripEntity" WHERE "TripEntity"."PkTrip" IN ($1) -- PARAMETERS: [123]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "TripEntity"."PkTrip" AS "TripEntity_PkTrip", "TripEntity"."TripWithinYearNo" AS "TripEntity_TripWithinYearNo", "TripEntity"."VesselName" AS "TripEntity_VesselName", "TripEntity"."DepartureDate" AS "TripEntity_DepartureDate", "TripEntity"."DeparturePort" AS "TripEntity_DeparturePort", "TripEntity"."LandingDate" AS "TripEntity_LandingDate", "TripEntity"."LandingPort" AS "TripEntity_LandingPort" FROM "Trip" "TripEntity" WHERE "TripEntity"."PkTrip" IN ($1) -- PARAMETERS: [1234]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "TripEntity"."PkTrip" AS "TripEntity_PkTrip", "TripEntity"."TripWithinYearNo" AS "TripEntity_TripWithinYearNo", "TripEntity"."VesselName" AS "TripEntity_VesselName", "TripEntity"."DepartureDate" AS "TripEntity_DepartureDate", "TripEntity"."DeparturePort" AS "TripEntity_DeparturePort", "TripEntity"."LandingDate" AS "TripEntity_LandingDate", "TripEntity"."LandingPort" AS "TripEntity_LandingPort" FROM "Trip" "TripEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "TripEntity"."PkTrip" AS "TripEntity_PkTrip", "TripEntity"."TripWithinYearNo" AS "TripEntity_TripWithinYearNo", "TripEntity"."VesselName" AS "TripEntity_VesselName", "TripEntity"."DepartureDate" AS "TripEntity_DepartureDate", "TripEntity"."DeparturePort" AS "TripEntity_DeparturePort", "TripEntity"."LandingDate" AS "TripEntity_LandingDate", "TripEntity"."LandingPort" AS "TripEntity_LandingPort" FROM "Trip" "TripEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "TripEntity"."PkTrip" AS "TripEntity_PkTrip", "TripEntity"."TripWithinYearNo" AS "TripEntity_TripWithinYearNo", "TripEntity"."VesselName" AS "TripEntity_VesselName", "TripEntity"."DepartureDate" AS "TripEntity_DepartureDate", "TripEntity"."DeparturePort" AS "TripEntity_DeparturePort", "TripEntity"."LandingDate" AS "TripEntity_LandingDate", "TripEntity"."LandingPort" AS "TripEntity_LandingPort" FROM "Trip" "TripEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "TripEntity"."PkTrip" AS "TripEntity_PkTrip", "TripEntity"."TripWithinYearNo" AS "TripEntity_TripWithinYearNo", "TripEntity"."VesselName" AS "TripEntity_VesselName", "TripEntity"."DepartureDate" AS "TripEntity_DepartureDate", "TripEntity"."DeparturePort" AS "TripEntity_DeparturePort", "TripEntity"."LandingDate" AS "TripEntity_LandingDate", "TripEntity"."LandingPort" AS "TripEntity_LandingPort" FROM "Trip" "TripEntity" WHERE "TripEntity"."PkTrip" IN ($1) -- PARAMETERS: [123]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

 FAIL  test/tp/trip/trip.e2e-spec.ts (7.783 s)
  Trip (e2e)
    ✓ Can authenticate (158 ms)
    ✓ Can create a trip with authentication (91 ms)
    ✓ Cant create a trip without authentication (6 ms)
    ✕ Cant create a trip with conflicting departure and landing - known to fail (35 ms)
    ✕ Can read a trip with authentication - known to fail (41 ms)
    ✕ Cant read a trip that doesnt exist - known to fail (26 ms)
    ✓ Cant read a trip without authentication (4 ms)
    ✓ Can read all trips with authentication (25 ms)
    ✓ Cant read all trips without authentication (4 ms)
    ✕ Cant overwrite a trip with authentication - known to fail (39 ms)

  ● Trip (e2e) › Cant create a trip with conflicting departure and landing - known to fail

    expected 400 "Bad Request", got 201 "Created"

      82 |       })
      83 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 84 |       .expect(400)
         |        ^
      85 |     return response
      86 |   });
      87 |

      at Object.<anonymous> (trip.e2e-spec.ts:84:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● Trip (e2e) › Can read a trip with authentication - known to fail

    expect(received).toEqual(expected) // deep equality

    Expected: 1
    Received: undefined

      91 |       .set('Authorization', `Bearer ${jwtToken}`)
      92 |       .expect(200)
    > 93 |     expect(response.body.pkTrip).toEqual<number>(1)
         |                                  ^
      94 |     expect(response.body.tripWithinYearNo).toEqual<number>(12)
      95 |     expect(response.body.vesselName).toEqual<string>("Test Vessel")
      96 |     expect(response.body.departureDate).toEqual<string>("2022-09-15T14:37:04.837Z")

      at Object.<anonymous> (trip.e2e-spec.ts:93:34)

  ● Trip (e2e) › Cant read a trip that doesnt exist - known to fail

    expected 404 "Not Found", got 200 "OK"

      106 |       .get('/api/v1/sawtooth/tp/trip/?pkTrip=404')
      107 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 108 |       .expect(404)
          |        ^
      109 |
      110 |     return response
      111 |   });

      at Object.<anonymous> (trip.e2e-spec.ts:108:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● Trip (e2e) › Cant overwrite a trip with authentication - known to fail

    expected 400 "Bad Request", got 201 "Created"

      155 |       })
      156 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 157 |       .expect(400)
          |        ^
      158 |     return response
      159 |   });
      160 |

      at Object.<anonymous> (trip.e2e-spec.ts:157:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

Test Suites: 1 failed, 1 total
Tests:       4 failed, 6 passed, 10 total
Snapshots:   0 total
Time:        7.916 s, estimated 8 s
Ran all test suites.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! backend@0.0.1 test:e2e:tp:trip: `jest --config ./test/jest.tp.trip.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the backend@0.0.1 test:e2e:tp:trip script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2022-10-09T12_50_21_845Z-debug.log
TEST FAILED: trip

> backend@0.0.1 test:e2e:tp:haul /project/sawtooth-tuna/backend
> jest --config ./test/jest.tp.haul.config.js

  console.log
    query: SELECT * FROM current_schema()

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: CREATE EXTENSION IF NOT EXISTS "uuid-ossp"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT version();

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: INSERT INTO "Haul"("LaunchDateTime", "LaunchPosition", "LaunchLatitude", "LaunchLongitude", "HaulDateTime", "HaulPosition", "HaulLatitude", "HaulLongitude", "PkTrip") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "PkHaul" -- PARAMETERS: ["2022-08-15T22:00:03.092Z","PositionOfLaunch1",63.40595699218346,10.406196141997356,"2022-09-15T14:37:04.837Z","PositionOfHaul1",63.40595699218346,10.406196141997356,123]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: COMMIT

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: INSERT INTO "Haul"("LaunchDateTime", "LaunchPosition", "LaunchLatitude", "LaunchLongitude", "HaulDateTime", "HaulPosition", "HaulLatitude", "HaulLongitude", "PkTrip") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "PkHaul" -- PARAMETERS: ["2022-09-15T22:00:03.092Z","dasdas",63.40595699218346,10.406196141997356,"2022-08-15T14:37:04.837Z","asdas",63.40595699218346,10.406196141997356,123]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: COMMIT

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "HaulEntity"."PkHaul" AS "HaulEntity_PkHaul", "HaulEntity"."LaunchDateTime" AS "HaulEntity_LaunchDateTime", "HaulEntity"."LaunchPosition" AS "HaulEntity_LaunchPosition", "HaulEntity"."LaunchLatitude" AS "HaulEntity_LaunchLatitude", "HaulEntity"."LaunchLongitude" AS "HaulEntity_LaunchLongitude", "HaulEntity"."HaulDateTime" AS "HaulEntity_HaulDateTime", "HaulEntity"."HaulPosition" AS "HaulEntity_HaulPosition", "HaulEntity"."HaulLatitude" AS "HaulEntity_HaulLatitude", "HaulEntity"."HaulLongitude" AS "HaulEntity_HaulLongitude", "HaulEntity"."PkTrip" AS "HaulEntity_PkTrip" FROM "Haul" "HaulEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "HaulEntity"."PkHaul" AS "HaulEntity_PkHaul", "HaulEntity"."LaunchDateTime" AS "HaulEntity_LaunchDateTime", "HaulEntity"."LaunchPosition" AS "HaulEntity_LaunchPosition", "HaulEntity"."LaunchLatitude" AS "HaulEntity_LaunchLatitude", "HaulEntity"."LaunchLongitude" AS "HaulEntity_LaunchLongitude", "HaulEntity"."HaulDateTime" AS "HaulEntity_HaulDateTime", "HaulEntity"."HaulPosition" AS "HaulEntity_HaulPosition", "HaulEntity"."HaulLatitude" AS "HaulEntity_HaulLatitude", "HaulEntity"."HaulLongitude" AS "HaulEntity_HaulLongitude", "HaulEntity"."PkTrip" AS "HaulEntity_PkTrip" FROM "Haul" "HaulEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "HaulEntity"."PkHaul" AS "HaulEntity_PkHaul", "HaulEntity"."LaunchDateTime" AS "HaulEntity_LaunchDateTime", "HaulEntity"."LaunchPosition" AS "HaulEntity_LaunchPosition", "HaulEntity"."LaunchLatitude" AS "HaulEntity_LaunchLatitude", "HaulEntity"."LaunchLongitude" AS "HaulEntity_LaunchLongitude", "HaulEntity"."HaulDateTime" AS "HaulEntity_HaulDateTime", "HaulEntity"."HaulPosition" AS "HaulEntity_HaulPosition", "HaulEntity"."HaulLatitude" AS "HaulEntity_HaulLatitude", "HaulEntity"."HaulLongitude" AS "HaulEntity_HaulLongitude", "HaulEntity"."PkTrip" AS "HaulEntity_PkTrip" FROM "Haul" "HaulEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: INSERT INTO "Haul"("LaunchDateTime", "LaunchPosition", "LaunchLatitude", "LaunchLongitude", "HaulDateTime", "HaulPosition", "HaulLatitude", "HaulLongitude", "PkTrip") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "PkHaul" -- PARAMETERS: ["2022-08-15T22:00:03.092Z","dasdas",63.40595699218346,10.406196141997356,"2022-09-15T14:37:04.837Z","asdas",63.40595699218346,10.406196141997356,404]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query failed: INSERT INTO "Haul"("LaunchDateTime", "LaunchPosition", "LaunchLatitude", "LaunchLongitude", "HaulDateTime", "HaulPosition", "HaulLatitude", "HaulLongitude", "PkTrip") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "PkHaul" -- PARAMETERS: ["2022-08-15T22:00:03.092Z","dasdas",63.40595699218346,10.406196141997356,"2022-09-15T14:37:04.837Z","asdas",63.40595699218346,10.406196141997356,404]

      at Function.logError (../../../src/platform/PlatformTools.ts:233:17)

  console.log
    error: error: insert or update on table "Haul" violates foreign key constraint "Haul_PkTrip_fkey"
        at Parser.parseErrorMessage (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:369:69)
        at Parser.handlePacket (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:188:21)
        at Parser.parse (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:103:30)
        at Socket.<anonymous> (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/index.ts:7:48)
        at Socket.emit (events.js:314:20)
        at addChunk (_stream_readable.js:297:12)
        at readableAddChunk (_stream_readable.js:272:9)
        at Socket.Readable.push (_stream_readable.js:213:10)
        at TCP.onStreamRead (internal/stream_base_commons.js:188:23) {
      length: 236,
      severity: 'ERROR',
      code: '23503',
      detail: 'Key (PkTrip)=(404) is not present in table "Trip".',
      hint: undefined,
      position: undefined,
      internalPosition: undefined,
      internalQuery: undefined,
      where: undefined,
      schema: 'public',
      table: 'Haul',
      column: undefined,
      dataType: undefined,
      constraint: 'Haul_PkTrip_fkey',
      file: 'ri_triggers.c',
      line: '2528',
      routine: 'ri_ReportViolation'
    }

      at Function.logError (../../../src/platform/PlatformTools.ts:233:17)

  console.log
    query: ROLLBACK

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

 FAIL  test/tp/haul/haul.e2e-spec.ts (7.938 s)
  Haul (e2e)
    ✓ Can authenticate (157 ms)
    ✓ Can create a haul with authentication (135 ms)
    ✓ Cant create a haul without authentication (10 ms)
    ✕ Cant create a haul with conflicting launch and haul known to fail (57 ms)
    ✕ Can read a haul with authentication - known to fail (46 ms)
    ✕ Cant read a haul that doesnt exist - known to fail (30 ms)
    ✓ Cant read a haul without authentication (4 ms)
    ✕ Can read all hauls with authentication - this fails because the API return lat and long with trailing padding of zeros. (36 ms)
    ✓ Cant read all hauls without authentication (5 ms)
    ✕ Cant create a haul without a related trip - fails because of lacking error handling (57 ms)

  ● Haul (e2e) › Cant create a haul with conflicting launch and haul known to fail

    expected 400 "Bad Request", got 201 "Created"

      86 |       })
      87 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 88 |       .expect(400)
         |        ^
      89 |     return response
      90 |   });
      91 |

      at Object.<anonymous> (haul.e2e-spec.ts:88:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● Haul (e2e) › Can read a haul with authentication - known to fail

    expect(received).toEqual(expected) // deep equality

    Expected: 1
    Received: undefined

       95 |       .set('Authorization', `Bearer ${jwtToken}`)
       96 |       .expect(200)
    >  97 |     expect(response.body.pkHaul).toEqual<number>(1)
          |                                  ^
       98 |     expect(response.body.launchDateTime).toEqual<string>("2022-08-15T22:00:03.092Z")
       99 |     expect(response.body.launchPosition).toEqual<string>("PositionOfLaunch1")
      100 |     expect(response.body.launchLatitude).toEqual<number>(63.4059569921834)

      at Object.<anonymous> (haul.e2e-spec.ts:97:34)

  ● Haul (e2e) › Cant read a haul that doesnt exist - known to fail

    expected 404 "Not Found", got 200 "OK"

      112 |       .get('/api/v1/sawtooth/tp/haul/?haulNo=404')
      113 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 114 |       .expect(404)
          |        ^
      115 |     return response
      116 |   });
      117 |

      at Object.<anonymous> (haul.e2e-spec.ts:114:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● Haul (e2e) › Can read all hauls with authentication - this fails because the API return lat and long with trailing padding of zeros.

    expect(received).toEqual(expected) // deep equality

    Expected: ArrayContaining [{"haulDateTime": "2022-09-15T14:37:04.837Z", "pkHaul": 1, "haulLatitude": 63.40595699218346, "haulLongitude": 10.406196141997356, "haulPosition": "PositionOfHaul1", "launchDateTime": "2022-08-15T22:00:03.092Z", "launchLatitude": 63.40595699218346, "launchLongitude": 10.406196141997356, "launchPosition": "PositionOfLaunch1", "pkTrip": 123}]
    Received: [{"haulDateTime": "2022-09-15T14:37:04.837Z", "pkHaul": 1, "haulLatitude": "63.405956992183460000", "haulLongitude": "10.406196141997356000", "haulPosition": "PositionOfHaul1", "launchDateTime": "2022-08-15T22:00:03.092Z", "launchLatitude": "63.405956992183460000", "launchLongitude": "10.406196141997356000", "launchPosition": "PositionOfLaunch1", "pkTrip": 123}, {"haulDateTime": "2022-08-15T14:37:04.837Z", "pkHaul": 2, "haulLatitude": "63.405956992183460000", "haulLongitude": "10.406196141997356000", "haulPosition": "asdas", "launchDateTime": "2022-09-15T22:00:03.092Z", "launchLatitude": "63.405956992183460000", "launchLongitude": "10.406196141997356000", "launchPosition": "dasdas", "pkTrip": 123}, {"haulDateTime": "2022-09-15T14:37:04.837Z", "pkHaul": 4, "haulLatitude": "63.405956992183460000", "haulLongitude": "10.406196141997356000", "haulPosition": "PositionOfHaul1", "launchDateTime": "2022-08-15T22:00:03.092Z", "launchLatitude": "63.405956992183460000", "launchLongitude": "10.406196141997356000", "launchPosition": "PositionOfLaunch1", "pkTrip": 123}, {"haulDateTime": "2022-08-15T14:37:04.837Z", "pkHaul": 5, "haulLatitude": "63.405956992183460000", "haulLongitude": "10.406196141997356000", "haulPosition": "asdas", "launchDateTime": "2022-09-15T22:00:03.092Z", "launchLatitude": "63.405956992183460000", "launchLongitude": "10.406196141997356000", "launchPosition": "dasdas", "pkTrip": 123}, {"haulDateTime": "2022-09-15T14:37:04.837Z", "pkHaul": 7, "haulLatitude": "63.405956992183460000", "haulLongitude": "10.406196141997356000", "haulPosition": "PositionOfHaul1", "launchDateTime": "2022-08-15T22:00:03.092Z", "launchLatitude": "63.405956992183460000", "launchLongitude": "10.406196141997356000", "launchPosition": "PositionOfLaunch1", "pkTrip": 123}, {"haulDateTime": "2022-08-15T14:37:04.837Z", "pkHaul": 8, "haulLatitude": "63.405956992183460000", "haulLongitude": "10.406196141997356000", "haulPosition": "asdas", "launchDateTime": "2022-09-15T22:00:03.092Z", "launchLatitude": "63.405956992183460000", "launchLongitude": "10.406196141997356000", "launchPosition": "dasdas", "pkTrip": 123}]

      128 |       .set('Authorization', `Bearer ${jwtToken}`)
      129 |       .expect(200)
    > 130 |     expect(response.body).toEqual(expect.arrayContaining([{
          |                           ^
      131 |       "pkHaul": 1,
      132 |       "launchDateTime": "2022-08-15T22:00:03.092Z",
      133 |       "launchPosition": "PositionOfLaunch1",

      at Object.<anonymous> (haul.e2e-spec.ts:130:27)

  ● Haul (e2e) › Cant create a haul without a related trip - fails because of lacking error handling

    expected 400 "Bad Request", got 500 "Internal Server Error"

      165 |       })
      166 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 167 |       .expect(400)
          |        ^
      168 |     return response
      169 |   });
      170 |

      at Object.<anonymous> (haul.e2e-spec.ts:167:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

Test Suites: 1 failed, 1 total
Tests:       5 failed, 5 passed, 10 total
Snapshots:   0 total
Time:        8.053 s
Ran all test suites.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! backend@0.0.1 test:e2e:tp:haul: `jest --config ./test/jest.tp.haul.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the backend@0.0.1 test:e2e:tp:haul script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2022-10-09T12_50_31_155Z-debug.log
TEST FAILED: haul

> backend@0.0.1 test:e2e:tp:pallet /project/sawtooth-tuna/backend
> jest --config ./test/jest.tp.pallet.config.js

  console.log
    query: SELECT * FROM current_schema()

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: CREATE EXTENSION IF NOT EXISTS "uuid-ossp"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT version();

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "PalletEntity"."PalletNum" AS "PalletEntity_PalletNum", "PalletEntity"."ProductNum" AS "PalletEntity_ProductNum", "PalletEntity"."SupplierId" AS "PalletEntity_SupplierId", "PalletEntity"."PalletWeight" AS "PalletEntity_PalletWeight", "PalletEntity"."PkTrip" AS "PalletEntity_PkTrip" FROM "Pallet" "PalletEntity" WHERE ((("PalletEntity"."PalletNum" = $1 AND "PalletEntity"."PkTrip" = $2))) -- PARAMETERS: ["1",123]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: UPDATE "Pallet" SET "PalletWeight" = $1 WHERE ((("PalletNum" = $2 AND "PkTrip" = $3))) -- PARAMETERS: [1,"1",123]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)
          at async Promise.all (index 0)

  console.log
    query: COMMIT

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "PalletEntity"."PalletNum" AS "PalletEntity_PalletNum", "PalletEntity"."ProductNum" AS "PalletEntity_ProductNum", "PalletEntity"."SupplierId" AS "PalletEntity_SupplierId", "PalletEntity"."PalletWeight" AS "PalletEntity_PalletWeight", "PalletEntity"."PkTrip" AS "PalletEntity_PkTrip" FROM "Pallet" "PalletEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "PalletEntity"."PalletNum" AS "PalletEntity_PalletNum", "PalletEntity"."ProductNum" AS "PalletEntity_ProductNum", "PalletEntity"."SupplierId" AS "PalletEntity_SupplierId", "PalletEntity"."PalletWeight" AS "PalletEntity_PalletWeight", "PalletEntity"."PkTrip" AS "PalletEntity_PkTrip" FROM "Pallet" "PalletEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "PalletEntity"."PalletNum" AS "PalletEntity_PalletNum", "PalletEntity"."ProductNum" AS "PalletEntity_ProductNum", "PalletEntity"."SupplierId" AS "PalletEntity_SupplierId", "PalletEntity"."PalletWeight" AS "PalletEntity_PalletWeight", "PalletEntity"."PkTrip" AS "PalletEntity_PkTrip" FROM "Pallet" "PalletEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "PalletEntity"."PalletNum" AS "PalletEntity_PalletNum", "PalletEntity"."ProductNum" AS "PalletEntity_ProductNum", "PalletEntity"."SupplierId" AS "PalletEntity_SupplierId", "PalletEntity"."PalletWeight" AS "PalletEntity_PalletWeight", "PalletEntity"."PkTrip" AS "PalletEntity_PkTrip" FROM "Pallet" "PalletEntity" WHERE ((("PalletEntity"."PalletNum" = $1 AND "PalletEntity"."PkTrip" = $2))) -- PARAMETERS: ["1",123]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: UPDATE "Pallet" SET "PalletWeight" = $1 WHERE ((("PalletNum" = $2 AND "PkTrip" = $3))) -- PARAMETERS: [5,"1",123]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)
          at async Promise.all (index 0)

  console.log
    query: COMMIT

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "PalletEntity"."PalletNum" AS "PalletEntity_PalletNum", "PalletEntity"."ProductNum" AS "PalletEntity_ProductNum", "PalletEntity"."SupplierId" AS "PalletEntity_SupplierId", "PalletEntity"."PalletWeight" AS "PalletEntity_PalletWeight", "PalletEntity"."PkTrip" AS "PalletEntity_PkTrip" FROM "Pallet" "PalletEntity" WHERE ((("PalletEntity"."PalletNum" = $1 AND "PalletEntity"."PkTrip" = $2))) -- PARAMETERS: ["1",404]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: INSERT INTO "Pallet"("PalletNum", "ProductNum", "SupplierId", "PalletWeight", "PkTrip") VALUES ($1, $2, $3, $4, $5) -- PARAMETERS: ["1",1,"Supplier",1,404]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query failed: INSERT INTO "Pallet"("PalletNum", "ProductNum", "SupplierId", "PalletWeight", "PkTrip") VALUES ($1, $2, $3, $4, $5) -- PARAMETERS: ["1",1,"Supplier",1,404]

      at Function.logError (../../../src/platform/PlatformTools.ts:233:17)

  console.log
    error: error: duplicate key value violates unique constraint "Pallet_pkey"
        at Parser.parseErrorMessage (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:369:69)
        at Parser.handlePacket (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:188:21)
        at Parser.parse (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:103:30)
        at Socket.<anonymous> (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/index.ts:7:48)
        at Socket.emit (events.js:314:20)
        at addChunk (_stream_readable.js:297:12)
        at readableAddChunk (_stream_readable.js:272:9)
        at Socket.Readable.push (_stream_readable.js:213:10)
        at TCP.onStreamRead (internal/stream_base_commons.js:188:23) {
      length: 192,
      severity: 'ERROR',
      code: '23505',
      detail: 'Key ("PalletNum")=(1) already exists.',
      hint: undefined,
      position: undefined,
      internalPosition: undefined,
      internalQuery: undefined,
      where: undefined,
      schema: 'public',
      table: 'Pallet',
      column: undefined,
      dataType: undefined,
      constraint: 'Pallet_pkey',
      file: 'nbtinsert.c',
      line: '663',
      routine: '_bt_check_unique'
    }

      at Function.logError (../../../src/platform/PlatformTools.ts:233:17)

  console.log
    query: ROLLBACK

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

 FAIL  test/tp/pallet/pallet.e2e-spec.ts (7.815 s)
  Pallet (e2e)
    ✓ Can authenticate (151 ms)
    ✓ Can create a pallet with authentication (122 ms)
    ✓ Cant create a pallet without authentication (8 ms)
    ✕ Can read a pallet with authentication - known to fail (34 ms)
    ✕ Cant read a pallet that doesnt exist - known to fail (24 ms)
    ✓ Cant read a pallet without authentication (9 ms)
    ✕ Can read all pallets with authentication (29 ms)
    ✓ Cant read all pallets without authentication (5 ms)
    ✕ Cant overwrite a pallet with authentication - known to fail (44 ms)
    ✕ Cant create a pallet without a related pkTrip - fails because of lacking error handling (81 ms)

  ● Pallet (e2e) › Can read a pallet with authentication - known to fail

    expect(received).toEqual(expected) // deep equality

    Expected: "1"
    Received: undefined

      70 |       .set('Authorization', `Bearer ${jwtToken}`)
      71 |       .expect(200)
    > 72 |     expect(response.body.palletNum).toEqual<string>("1")
         |                                     ^
      73 |     expect(response.body.productNum).toEqual<number>(1)
      74 |     expect(response.body.supplierId).toEqual<string>("supplierId")
      75 |     expect(response.body.palletWeight).toEqual<number>(1.0000)

      at Object.<anonymous> (pallet.e2e-spec.ts:72:37)

  ● Pallet (e2e) › Cant read a pallet that doesnt exist - known to fail

    expected 404 "Not Found", got 200 "OK"

      82 |       .get('/api/v1/sawtooth/tp/pallet/?palletId=404')
      83 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 84 |       .expect(404)
         |        ^
      85 |
      86 |     return response
      87 |   });

      at Object.<anonymous> (pallet.e2e-spec.ts:84:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● Pallet (e2e) › Can read all pallets with authentication - known to fail, the returned data is a float written as string. The entity is defined as number in the nest API code.

    expect(received).toEqual(expected) // deep equality

    Expected: ArrayContaining [{"palletNum": "1", "palletWeight": 1, "productNum": 1, "supplierId": "Supplier", "pkTrip": 123}]
    Received: [{"palletNum": "1", "palletWeight": "1.0000", "productNum": 1, "supplierId": "Supplier", "pkTrip": 123}]

       99 |       .set('Authorization', `Bearer ${jwtToken}`)
      100 |       .expect(200)
    > 101 |     expect(response.body).toEqual(expect.arrayContaining([{
          |                           ^
      102 |       "palletNum": "1",
      103 |       "productNum": 1,
      104 |       "supplierId": "Supplier",

      at Object.<anonymous> (pallet.e2e-spec.ts:101:27)

  ● Pallet (e2e) › Cant overwrite a pallet with authentication - known to fail

    expected 400 "Bad Request", got 201 "Created"

      127 |       })
      128 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 129 |       .expect(400)
          |        ^
      130 |     return response
      131 |   });
      132 |

      at Object.<anonymous> (pallet.e2e-spec.ts:129:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● Pallet (e2e) › Cant create a pallet without a related pkTrip - fails because of lacking error handling

    expected 400 "Bad Request", got 500 "Internal Server Error"

      142 |       })
      143 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 144 |       .expect(400)
          |        ^
      145 |     return response
      146 |   });
      147 |

      at Object.<anonymous> (pallet.e2e-spec.ts:144:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

Test Suites: 1 failed, 1 total
Tests:       5 failed, 5 passed, 10 total
Snapshots:   0 total
Time:        7.943 s, estimated 8 s
Ran all test suites.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! backend@0.0.1 test:e2e:tp:pallet: `jest --config ./test/jest.tp.pallet.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the backend@0.0.1 test:e2e:tp:pallet script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2022-10-09T12_50_40_446Z-debug.log
TEST FAILED: pallet

> backend@0.0.1 test:e2e:tp:catch-package /project/sawtooth-tuna/backend
> jest --config ./test/jest.tp.catch-package.config.js

  console.log
    query: SELECT * FROM current_schema()

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: CREATE EXTENSION IF NOT EXISTS "uuid-ossp"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT version();

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CatchPackageEntity"."CatchPackageId" AS "CatchPackageEntity_CatchPackageId", "CatchPackageEntity"."PackingDate" AS "CatchPackageEntity_PackingDate", "CatchPackageEntity"."PalletNum" AS "CatchPackageEntity_PalletNum" FROM "CatchPackage" "CatchPackageEntity" WHERE "CatchPackageEntity"."CatchPackageId" IN ($1) -- PARAMETERS: ["1"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CatchPackageEntity"."CatchPackageId" AS "CatchPackageEntity_CatchPackageId", "CatchPackageEntity"."PackingDate" AS "CatchPackageEntity_PackingDate", "CatchPackageEntity"."PalletNum" AS "CatchPackageEntity_PalletNum" FROM "CatchPackage" "CatchPackageEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CatchPackageEntity"."CatchPackageId" AS "CatchPackageEntity_CatchPackageId", "CatchPackageEntity"."PackingDate" AS "CatchPackageEntity_PackingDate", "CatchPackageEntity"."PalletNum" AS "CatchPackageEntity_PalletNum" FROM "CatchPackage" "CatchPackageEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CatchPackageEntity"."CatchPackageId" AS "CatchPackageEntity_CatchPackageId", "CatchPackageEntity"."PackingDate" AS "CatchPackageEntity_PackingDate", "CatchPackageEntity"."PalletNum" AS "CatchPackageEntity_PalletNum" FROM "CatchPackage" "CatchPackageEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CatchPackageEntity"."CatchPackageId" AS "CatchPackageEntity_CatchPackageId", "CatchPackageEntity"."PackingDate" AS "CatchPackageEntity_PackingDate", "CatchPackageEntity"."PalletNum" AS "CatchPackageEntity_PalletNum" FROM "CatchPackage" "CatchPackageEntity" WHERE "CatchPackageEntity"."CatchPackageId" IN ($1) -- PARAMETERS: ["1"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CatchPackageEntity"."CatchPackageId" AS "CatchPackageEntity_CatchPackageId", "CatchPackageEntity"."PackingDate" AS "CatchPackageEntity_PackingDate", "CatchPackageEntity"."PalletNum" AS "CatchPackageEntity_PalletNum" FROM "CatchPackage" "CatchPackageEntity" WHERE "CatchPackageEntity"."CatchPackageId" IN ($1) -- PARAMETERS: ["2"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: INSERT INTO "CatchPackage"("CatchPackageId", "PackingDate", "PalletNum") VALUES ($1, $2, $3) -- PARAMETERS: ["2","2022-09-15T14:37:04.837Z","404"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query failed: INSERT INTO "CatchPackage"("CatchPackageId", "PackingDate", "PalletNum") VALUES ($1, $2, $3) -- PARAMETERS: ["2","2022-09-15T14:37:04.837Z","404"]

      at Function.logError (../../../src/platform/PlatformTools.ts:233:17)

  console.log
    error: error: insert or update on table "CatchPackage" violates foreign key constraint "CatchPackage_PalletNum_fkey"
        at Parser.parseErrorMessage (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:369:69)
        at Parser.handlePacket (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:188:21)
        at Parser.parse (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:103:30)
        at Socket.<anonymous> (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/index.ts:7:48)
        at Socket.emit (events.js:314:20)
        at addChunk (_stream_readable.js:297:12)
        at readableAddChunk (_stream_readable.js:272:9)
        at Socket.Readable.push (_stream_readable.js:213:10)
        at TCP.onStreamRead (internal/stream_base_commons.js:188:23) {
      length: 279,
      severity: 'ERROR',
      code: '23503',
      detail: 'Key (PalletNum)=(404) is not present in table "Pallet".',
      hint: undefined,
      position: undefined,
      internalPosition: undefined,
      internalQuery: undefined,
      where: undefined,
      schema: 'public',
      table: 'CatchPackage',
      column: undefined,
      dataType: undefined,
      constraint: 'CatchPackage_PalletNum_fkey',
      file: 'ri_triggers.c',
      line: '2528',
      routine: 'ri_ReportViolation'
    }

      at Function.logError (../../../src/platform/PlatformTools.ts:233:17)

  console.log
    query: ROLLBACK

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

 FAIL  test/tp/catch-package/catch-package.e2e-spec.ts (7.868 s)
  CatchPackage (e2e)
    ✓ Can authenticate (150 ms)
    ✓ Can create a catch-package with authentication (94 ms)
    ✓ Cant create a catch-package without authentication (7 ms)
    ✕ Can read a catch-package with authentication - known to fail (31 ms)
    ✕ Cant read a catch-package that doesnt exist - known to fail (22 ms)
    ✓ Cant read a catch-package without authentication (4 ms)
    ✓ Can read all catch-packages with authentication (28 ms)
    ✓ Cant read all catch-packages without authentication (5 ms)
    ✕ Cant overwrite a catch-package with authentication - known to fail (36 ms)
    ✕ Cant create a catch-package without a related palletNum - fails because of lacking error handling (120 ms)

  ● CatchPackage (e2e) › Can read a catch-package with authentication - known to fail

    expect(received).toEqual(expected) // deep equality

    Expected: "1"
    Received: undefined

      66 |       .set('Authorization', `Bearer ${jwtToken}`)
      67 |       .expect(200)
    > 68 |     expect(response.body.catchPackageId).toEqual<string>("1")
         |                                          ^
      69 |     expect(response.body.packingDate).toEqual<string>("2022-09-15T14:37:04.837Z")
      70 |     expect(response.body.palletNum).toEqual<string>("1")
      71 |     return response

      at Object.<anonymous> (catch-package.e2e-spec.ts:68:42)

  ● CatchPackage (e2e) › Cant read a catch-package that doesnt exist - known to fail

    expected 404 "Not Found", got 200 "OK"

      76 |       .get('/api/v1/sawtooth/tp/catch-package/?catchPackageId=404')
      77 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 78 |       .expect(404)
         |        ^
      79 |
      80 |     return response
      81 |   });

      at Object.<anonymous> (catch-package.e2e-spec.ts:78:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● CatchPackage (e2e) › Cant overwrite a catch-package with authentication - known to fail

    expected 400 "Bad Request", got 201 "Created"

      117 |       })
      118 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 119 |       .expect(400)
          |        ^
      120 |     return response
      121 |   });
      122 |

      at Object.<anonymous> (catch-package.e2e-spec.ts:119:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● CatchPackage (e2e) › Cant create a catch-package without a related palletNum - fails because of lacking error handling

    expected 400 "Bad Request", got 500 "Internal Server Error"

      130 |       })
      131 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 132 |       .expect(400)
          |        ^
      133 |     return response
      134 |   });
      135 |

      at Object.<anonymous> (catch-package.e2e-spec.ts:132:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

Test Suites: 1 failed, 1 total
Tests:       4 failed, 6 passed, 10 total
Snapshots:   0 total
Time:        7.992 s, estimated 8 s
Ran all test suites.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! backend@0.0.1 test:e2e:tp:catch-package: `jest --config ./test/jest.tp.catch-package.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the backend@0.0.1 test:e2e:tp:catch-package script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2022-10-09T12_50_49_807Z-debug.log
TEST FAILED: catch-package

> backend@0.0.1 test:e2e:tp:company /project/sawtooth-tuna/backend
> jest --config ./test/jest.tp.company.config.js

  console.log
    query: SELECT * FROM current_schema()

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: CREATE EXTENSION IF NOT EXISTS "uuid-ossp"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT version();

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: INSERT INTO "Company"("CompanyName", "CompanyAddress", "ContactInfo") VALUES ($1, $2, $3) RETURNING "CompanyId" -- PARAMETERS: ["Company Name","AddressString","ContactString"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: COMMIT

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CompanyEntity"."CompanyId" AS "CompanyEntity_CompanyId", "CompanyEntity"."CompanyName" AS "CompanyEntity_CompanyName", "CompanyEntity"."CompanyAddress" AS "CompanyEntity_CompanyAddress", "CompanyEntity"."ContactInfo" AS "CompanyEntity_ContactInfo" FROM "Company" "CompanyEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CompanyEntity"."CompanyId" AS "CompanyEntity_CompanyId", "CompanyEntity"."CompanyName" AS "CompanyEntity_CompanyName", "CompanyEntity"."CompanyAddress" AS "CompanyEntity_CompanyAddress", "CompanyEntity"."ContactInfo" AS "CompanyEntity_ContactInfo" FROM "Company" "CompanyEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CompanyEntity"."CompanyId" AS "CompanyEntity_CompanyId", "CompanyEntity"."CompanyName" AS "CompanyEntity_CompanyName", "CompanyEntity"."CompanyAddress" AS "CompanyEntity_CompanyAddress", "CompanyEntity"."ContactInfo" AS "CompanyEntity_ContactInfo" FROM "Company" "CompanyEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

 FAIL  test/tp/company/company.e2e-spec.ts (7.764 s)
  Company (e2e)
    ✓ Can authenticate (144 ms)
    ✓ Can create a company with authentication (152 ms)
    ✓ Cant create a company without authentication (8 ms)
    ✕ Can read a company with authentication - known to fail (39 ms)
    ✕ Cant read a company that doesnt exist - known to fail (24 ms)
    ✓ Cant read a company without authentication (7 ms)
    ✓ Can read all companys with authentication (29 ms)
    ✓ Cant read all companys without authentication (4 ms)

  ● Company (e2e) › Can read a company with authentication - known to fail

    expect(received).toEqual(expected) // deep equality

    Expected: 1
    Received: undefined

      60 |       .set('Authorization', `Bearer ${jwtToken}`)
      61 |       .expect(200)
    > 62 |     expect(response.body.companyId).toEqual<number>(1)
         |                                     ^
      63 |     expect(response.body.companyName).toEqual<string>("Company Name")
      64 |     expect(response.body.companyAddress).toEqual<string>("AddressString")
      65 |     expect(response.body.companyNum).toEqual<string>("ContactString")

      at Object.<anonymous> (company.e2e-spec.ts:62:37)

  ● Company (e2e) › Cant read a company that doesnt exist - known to fail

    expected 404 "Not Found", got 200 "OK"

      71 |       .get('/api/v1/sawtooth/tp/company/?companyId=404')
      72 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 73 |       .expect(404)
         |        ^
      74 |     return response
      75 |   });
      76 |

      at Object.<anonymous> (company.e2e-spec.ts:73:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

Test Suites: 1 failed, 1 total
Tests:       2 failed, 6 passed, 8 total
Snapshots:   0 total
Time:        7.882 s, estimated 8 s
Ran all test suites.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! backend@0.0.1 test:e2e:tp:company: `jest --config ./test/jest.tp.company.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the backend@0.0.1 test:e2e:tp:company script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2022-10-09T12_50_59_070Z-debug.log
TEST FAILED: Company

> backend@0.0.1 test:e2e:tp:pallet-event /project/sawtooth-tuna/backend
> jest --config ./test/jest.tp.pallet-event.config.js

  console.log
    query: SELECT * FROM current_schema()

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: CREATE EXTENSION IF NOT EXISTS "uuid-ossp"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT version();

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: INSERT INTO "PalletEvent"("EventTime", "PalletNum", "Temperature", "Location", "Tilt", "Shock") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "PalletEventId" -- PARAMETERS: ["2022-09-15T14:37:04.837Z","1","\"{\\\"Celsius\\\":1}\"","\"{\\\"latitude\\\":63.40595699218346,\\\"longitude\\\":10.406196141997356}\"","\"{\\\"tilt\\\":1}\"","\"{\\\"vertical\\\":1,\\\"horisontal\\\":1}\""]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: COMMIT

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "PalletEventEntity"."PalletEventId" AS "PalletEventEntity_PalletEventId", "PalletEventEntity"."EventTime" AS "PalletEventEntity_EventTime", "PalletEventEntity"."PalletNum" AS "PalletEventEntity_PalletNum", "PalletEventEntity"."Temperature" AS "PalletEventEntity_Temperature", "PalletEventEntity"."Location" AS "PalletEventEntity_Location", "PalletEventEntity"."Tilt" AS "PalletEventEntity_Tilt", "PalletEventEntity"."Shock" AS "PalletEventEntity_Shock" FROM "PalletEvent" "PalletEventEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "PalletEventEntity"."PalletEventId" AS "PalletEventEntity_PalletEventId", "PalletEventEntity"."EventTime" AS "PalletEventEntity_EventTime", "PalletEventEntity"."PalletNum" AS "PalletEventEntity_PalletNum", "PalletEventEntity"."Temperature" AS "PalletEventEntity_Temperature", "PalletEventEntity"."Location" AS "PalletEventEntity_Location", "PalletEventEntity"."Tilt" AS "PalletEventEntity_Tilt", "PalletEventEntity"."Shock" AS "PalletEventEntity_Shock" FROM "PalletEvent" "PalletEventEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "PalletEventEntity"."PalletEventId" AS "PalletEventEntity_PalletEventId", "PalletEventEntity"."EventTime" AS "PalletEventEntity_EventTime", "PalletEventEntity"."PalletNum" AS "PalletEventEntity_PalletNum", "PalletEventEntity"."Temperature" AS "PalletEventEntity_Temperature", "PalletEventEntity"."Location" AS "PalletEventEntity_Location", "PalletEventEntity"."Tilt" AS "PalletEventEntity_Tilt", "PalletEventEntity"."Shock" AS "PalletEventEntity_Shock" FROM "PalletEvent" "PalletEventEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: INSERT INTO "PalletEvent"("EventTime", "PalletNum", "Temperature", "Location", "Tilt", "Shock") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "PalletEventId" -- PARAMETERS: ["2022-09-15T14:37:04.837Z","404","\"{\\\"Celsius\\\":1}\"","\"{\\\"latitude\\\":63.40595699218346,\\\"longitude\\\":10.406196141997356}\"","\"{\\\"tilt\\\":1}\"","\"{\\\"vertical\\\":1,\\\"horisontal\\\":1}\""]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query failed: INSERT INTO "PalletEvent"("EventTime", "PalletNum", "Temperature", "Location", "Tilt", "Shock") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "PalletEventId" -- PARAMETERS: ["2022-09-15T14:37:04.837Z","404","\"{\\\"Celsius\\\":1}\"","\"{\\\"latitude\\\":63.40595699218346,\\\"longitude\\\":10.406196141997356}\"","\"{\\\"tilt\\\":1}\"","\"{\\\"vertical\\\":1,\\\"horisontal\\\":1}\""]

      at Function.logError (../../../src/platform/PlatformTools.ts:233:17)

  console.log
    error: error: insert or update on table "PalletEvent" violates foreign key constraint "PalletEvent_PalletNum_fkey"
        at Parser.parseErrorMessage (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:369:69)
        at Parser.handlePacket (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:188:21)
        at Parser.parse (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:103:30)
        at Socket.<anonymous> (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/index.ts:7:48)
        at Socket.emit (events.js:314:20)
        at addChunk (_stream_readable.js:297:12)
        at readableAddChunk (_stream_readable.js:272:9)
        at Socket.Readable.push (_stream_readable.js:213:10)
        at TCP.onStreamRead (internal/stream_base_commons.js:188:23) {
      length: 275,
      severity: 'ERROR',
      code: '23503',
      detail: 'Key (PalletNum)=(404) is not present in table "Pallet".',
      hint: undefined,
      position: undefined,
      internalPosition: undefined,
      internalQuery: undefined,
      where: undefined,
      schema: 'public',
      table: 'PalletEvent',
      column: undefined,
      dataType: undefined,
      constraint: 'PalletEvent_PalletNum_fkey',
      file: 'ri_triggers.c',
      line: '2528',
      routine: 'ri_ReportViolation'
    }

      at Function.logError (../../../src/platform/PlatformTools.ts:233:17)

  console.log
    query: ROLLBACK

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

 FAIL  test/tp/pallet-event/pallet-event.e2e-spec.ts (7.944 s)
  PalletEvent (e2e)
    ✓ Can authenticate (151 ms)
    ✓ Can create a pallet-event with authentication (139 ms)
    ✓ Cant create a pallet-event without authentication (9 ms)
    ✕ Can read a pallet-event with authentication - known to fail (45 ms)
    ✕ Cant read a pallet-event that doesnt exist - known to fail (41 ms)
    ✓ Cant read a pallet-event without authentication (4 ms)
    ✓ Can read all pallet-events with authentication (32 ms)
    ✓ Cant read all pallet-events without authentication (5 ms)
    ✕ Cant create a catch-package without a related palletNum - fails because of lacking error handling (61 ms)

  ● PalletEvent (e2e) › Can read a pallet-event with authentication - known to fail

    expect(received).toEqual(expected) // deep equality

    Expected: 1
    Received: undefined

      88 |       .set('Authorization', `Bearer ${jwtToken}`)
      89 |       .expect(200)
    > 90 |     expect(response.body.palletEventId).toEqual<number>(1)
         |                                         ^
      91 |     expect(response.body.eventTime).toEqual<string>("2022-09-15T14:37:04.837Z")
      92 |     expect(response.body.temperature).toEqual(JSON.stringify({ "Celsius": 1 }))
      93 |     expect(response.body.location).toEqual(JSON.stringify({

      at Object.<anonymous> (pallet-event.e2e-spec.ts:90:41)

  ● PalletEvent (e2e) › Cant read a pallet-event that doesnt exist - known to fail

    expected 404 "Not Found", got 200 "OK"

      109 |       .get('/api/v1/sawtooth/tp/pallet-event/?palletEventId=404')
      110 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 111 |       .expect(404)
          |        ^
      112 |
      113 |     return response
      114 |   });

      at Object.<anonymous> (pallet-event.e2e-spec.ts:111:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● PalletEvent (e2e) › Cant create a catch-package without a related palletNum - fails because of lacking error handling

    expected 201 "Created", got 500 "Internal Server Error"

      173 |       })
      174 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 175 |       .expect(201)
          |        ^
      176 |     return response
      177 |   });
      178 |

      at Object.<anonymous> (pallet-event.e2e-spec.ts:175:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

Test Suites: 1 failed, 1 total
Tests:       3 failed, 6 passed, 9 total
Snapshots:   0 total
Time:        8.057 s
Ran all test suites.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! backend@0.0.1 test:e2e:tp:pallet-event: `jest --config ./test/jest.tp.pallet-event.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the backend@0.0.1 test:e2e:tp:pallet-event script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2022-10-09T12_51_08_483Z-debug.log
TEST FAILED: Pallet-event

> backend@0.0.1 test:e2e:tp:species /project/sawtooth-tuna/backend
> jest --config ./test/jest.tp.species.config.js

  console.log
    query: SELECT * FROM current_schema()

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: CREATE EXTENSION IF NOT EXISTS "uuid-ossp"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT version();

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: INSERT INTO "SpeciesAndWeight"("Quantity", "Species", "CatchPackageId", "LaunchDateTime") VALUES ($1, $2, $3, $4) RETURNING "SpeciesId" -- PARAMETERS: [1,1,"1","2022-09-15T14:37:04.837Z"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: COMMIT

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "SpeciesAndWeightEntity"."SpeciesId" AS "SpeciesAndWeightEntity_SpeciesId", "SpeciesAndWeightEntity"."Quantity" AS "SpeciesAndWeightEntity_Quantity", "SpeciesAndWeightEntity"."Species" AS "SpeciesAndWeightEntity_Species", "SpeciesAndWeightEntity"."CatchPackageId" AS "SpeciesAndWeightEntity_CatchPackageId", "SpeciesAndWeightEntity"."LaunchDateTime" AS "SpeciesAndWeightEntity_LaunchDateTime" FROM "SpeciesAndWeight" "SpeciesAndWeightEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "SpeciesAndWeightEntity"."SpeciesId" AS "SpeciesAndWeightEntity_SpeciesId", "SpeciesAndWeightEntity"."Quantity" AS "SpeciesAndWeightEntity_Quantity", "SpeciesAndWeightEntity"."Species" AS "SpeciesAndWeightEntity_Species", "SpeciesAndWeightEntity"."CatchPackageId" AS "SpeciesAndWeightEntity_CatchPackageId", "SpeciesAndWeightEntity"."LaunchDateTime" AS "SpeciesAndWeightEntity_LaunchDateTime" FROM "SpeciesAndWeight" "SpeciesAndWeightEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "SpeciesAndWeightEntity"."SpeciesId" AS "SpeciesAndWeightEntity_SpeciesId", "SpeciesAndWeightEntity"."Quantity" AS "SpeciesAndWeightEntity_Quantity", "SpeciesAndWeightEntity"."Species" AS "SpeciesAndWeightEntity_Species", "SpeciesAndWeightEntity"."CatchPackageId" AS "SpeciesAndWeightEntity_CatchPackageId", "SpeciesAndWeightEntity"."LaunchDateTime" AS "SpeciesAndWeightEntity_LaunchDateTime" FROM "SpeciesAndWeight" "SpeciesAndWeightEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

 FAIL  test/tp/species/species.e2e-spec.ts (7.419 s)
  Species (e2e)
    ✓ Can authenticate (144 ms)
    ✓ Can create a species with authentication (124 ms)
    ✓ Cant create a species without authentication (7 ms)
    ✕ Can read a species with authentication - known to fail (38 ms)
    ✕ Cant read a species that doesnt exist - known to fail (24 ms)
    ✓ Cant read a species without authentication (5 ms)
    ✓ Can read all specieses with authentication (24 ms)
    ✓ Cant read all specieses without authentication (4 ms)

  ● Species (e2e) › Can read a species with authentication - known to fail

    expect(received).toEqual(expected) // deep equality

    Expected: 1
    Received: undefined

      62 |       .set('Authorization', `Bearer ${jwtToken}`)
      63 |       .expect(200)
    > 64 |     expect(response.body.speciesId).toEqual<number>(1)
         |                                     ^
      65 |     expect(response.body.quantity).toEqual<number>(1)
      66 |     expect(response.body.species).toEqual<number>(1)
      67 |     expect(response.body.catchPackageId).toEqual<string>("1")

      at Object.<anonymous> (species.e2e-spec.ts:64:37)

  ● Species (e2e) › Cant read a species that doesnt exist - known to fail

    expected 404 "Not Found", got 200 "OK"

      74 |       .get('/api/v1/sawtooth/tp/species/?speciesId=404')
      75 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 76 |       .expect(404)
         |        ^
      77 |     return response
      78 |   });
      79 |

      at Object.<anonymous> (species.e2e-spec.ts:76:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

Test Suites: 1 failed, 1 total
Tests:       2 failed, 6 passed, 8 total
Snapshots:   0 total
Time:        7.537 s, estimated 8 s
Ran all test suites.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! backend@0.0.1 test:e2e:tp:species: `jest --config ./test/jest.tp.species.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the backend@0.0.1 test:e2e:tp:species script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2022-10-09T12_51_17_398Z-debug.log
TEST FAILED: species

> backend@0.0.1 test:e2e:tp:custom-package /project/sawtooth-tuna/backend
> jest --config ./test/jest.tp.custom-package.config.js

  console.log
    query: SELECT * FROM current_schema()

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: CREATE EXTENSION IF NOT EXISTS "uuid-ossp"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT version();

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Imhlcm1lc0BudG51Lm5vIiwiaWQiOiJmY2RkMjJmOC05NWYwLTQ2OTktYmNlMS0yODk5M2RhNDk5ZDQiLCJmdWxsTmFtZSI6Imhlcm1lcyIsInRva2VuX3R5cGUiOiJCZWFyZXIiLCJpYXQiOjE2NjUzMTk4ODUsImV4cCI6MTY2NTkyNDY4NX0.Lwp7AXjCJtWYfJ5M0J3ABeki5ngD2tg4Rj8aJCyZCkk

      at Object.<anonymous> (custom-package.e2e-spec.ts:28:13)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CustomLevelPackageEntity"."ConsumerPackageId" AS "CustomLevelPackageEntity_ConsumerPackageId", "CustomLevelPackageEntity"."CatchPackageId" AS "CustomLevelPackageEntity_CatchPackageId", "CustomLevelPackageEntity"."PackingDate" AS "CustomLevelPackageEntity_PackingDate", "CustomLevelPackageEntity"."Agent" AS "CustomLevelPackageEntity_Agent" FROM "CustomLevelPackage" "CustomLevelPackageEntity" WHERE "CustomLevelPackageEntity"."ConsumerPackageId" IN ($1) -- PARAMETERS: ["1"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: UPDATE "CustomLevelPackage" SET "PackingDate" = $1 WHERE "ConsumerPackageId" IN ($2) -- PARAMETERS: ["2022-09-15T14:37:04.837Z","1"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)
          at async Promise.all (index 0)

  console.log
    query: COMMIT

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CustomLevelPackageEntity"."ConsumerPackageId" AS "CustomLevelPackageEntity_ConsumerPackageId", "CustomLevelPackageEntity"."CatchPackageId" AS "CustomLevelPackageEntity_CatchPackageId", "CustomLevelPackageEntity"."PackingDate" AS "CustomLevelPackageEntity_PackingDate", "CustomLevelPackageEntity"."Agent" AS "CustomLevelPackageEntity_Agent" FROM "CustomLevelPackage" "CustomLevelPackageEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CustomLevelPackageEntity"."ConsumerPackageId" AS "CustomLevelPackageEntity_ConsumerPackageId", "CustomLevelPackageEntity"."CatchPackageId" AS "CustomLevelPackageEntity_CatchPackageId", "CustomLevelPackageEntity"."PackingDate" AS "CustomLevelPackageEntity_PackingDate", "CustomLevelPackageEntity"."Agent" AS "CustomLevelPackageEntity_Agent" FROM "CustomLevelPackage" "CustomLevelPackageEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CustomLevelPackageEntity"."ConsumerPackageId" AS "CustomLevelPackageEntity_ConsumerPackageId", "CustomLevelPackageEntity"."CatchPackageId" AS "CustomLevelPackageEntity_CatchPackageId", "CustomLevelPackageEntity"."PackingDate" AS "CustomLevelPackageEntity_PackingDate", "CustomLevelPackageEntity"."Agent" AS "CustomLevelPackageEntity_Agent" FROM "CustomLevelPackage" "CustomLevelPackageEntity"

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CustomLevelPackageEntity"."ConsumerPackageId" AS "CustomLevelPackageEntity_ConsumerPackageId", "CustomLevelPackageEntity"."CatchPackageId" AS "CustomLevelPackageEntity_CatchPackageId", "CustomLevelPackageEntity"."PackingDate" AS "CustomLevelPackageEntity_PackingDate", "CustomLevelPackageEntity"."Agent" AS "CustomLevelPackageEntity_Agent" FROM "CustomLevelPackage" "CustomLevelPackageEntity" WHERE "CustomLevelPackageEntity"."ConsumerPackageId" IN ($1) -- PARAMETERS: ["1"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: UPDATE "CustomLevelPackage" SET "PackingDate" = $1 WHERE "ConsumerPackageId" IN ($2) -- PARAMETERS: ["2021-01-15T14:37:20.837Z","1"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)
          at async Promise.all (index 0)

  console.log
    query: COMMIT

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CustomLevelPackageEntity"."ConsumerPackageId" AS "CustomLevelPackageEntity_ConsumerPackageId", "CustomLevelPackageEntity"."CatchPackageId" AS "CustomLevelPackageEntity_CatchPackageId", "CustomLevelPackageEntity"."PackingDate" AS "CustomLevelPackageEntity_PackingDate", "CustomLevelPackageEntity"."Agent" AS "CustomLevelPackageEntity_Agent" FROM "CustomLevelPackage" "CustomLevelPackageEntity" WHERE "CustomLevelPackageEntity"."ConsumerPackageId" IN ($1) -- PARAMETERS: ["1"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: UPDATE "CustomLevelPackage" SET "Agent" = $1 WHERE "ConsumerPackageId" IN ($2) -- PARAMETERS: [404,"1"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)
          at async Promise.all (index 0)

  console.log
    query failed: UPDATE "CustomLevelPackage" SET "Agent" = $1 WHERE "ConsumerPackageId" IN ($2) -- PARAMETERS: [404,"1"]

      at Function.logError (../../../src/platform/PlatformTools.ts:233:17)

  console.log
    error: error: insert or update on table "CustomLevelPackage" violates foreign key constraint "CustomLevelPackage_Agent_fkey"
        at Parser.parseErrorMessage (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:369:69)
        at Parser.handlePacket (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:188:21)
        at Parser.parse (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:103:30)
        at Socket.<anonymous> (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/index.ts:7:48)
        at Socket.emit (events.js:314:20)
        at addChunk (_stream_readable.js:297:12)
        at readableAddChunk (_stream_readable.js:272:9)
        at Socket.Readable.push (_stream_readable.js:213:10)
        at TCP.onStreamRead (internal/stream_base_commons.js:188:23) {
      length: 292,
      severity: 'ERROR',
      code: '23503',
      detail: 'Key (Agent)=(404) is not present in table "Company".',
      hint: undefined,
      position: undefined,
      internalPosition: undefined,
      internalQuery: undefined,
      where: undefined,
      schema: 'public',
      table: 'CustomLevelPackage',
      column: undefined,
      dataType: undefined,
      constraint: 'CustomLevelPackage_Agent_fkey',
      file: 'ri_triggers.c',
      line: '2528',
      routine: 'ri_ReportViolation'
    }

      at Function.logError (../../../src/platform/PlatformTools.ts:233:17)

  console.log
    query: ROLLBACK

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersEntity"."Id" AS "UsersEntity_Id", "UsersEntity"."FullName" AS "UsersEntity_FullName", "UsersEntity"."IsActive" AS "UsersEntity_IsActive", "UsersEntity"."CreatedDate" AS "UsersEntity_CreatedDate", "UsersEntity"."CreatedBy" AS "UsersEntity_CreatedBy", "UsersEntity"."UpdatedDate" AS "UsersEntity_UpdatedDate", "UsersEntity"."UpdatedBy" AS "UsersEntity_UpdatedBy", "UsersEntity"."UserName" AS "UsersEntity_UserName", "UsersEntity"."NormalizedUserName" AS "UsersEntity_NormalizedUserName", "UsersEntity"."Email" AS "UsersEntity_Email", "UsersEntity"."NormalizedEmail" AS "UsersEntity_NormalizedEmail", "UsersEntity"."EmailConfirmed" AS "UsersEntity_EmailConfirmed", "UsersEntity"."PasswordHash" AS "UsersEntity_PasswordHash", "UsersEntity"."SecurityStamp" AS "UsersEntity_SecurityStamp", "UsersEntity"."ConcurrencyStamp" AS "UsersEntity_ConcurrencyStamp", "UsersEntity"."PhoneNumber" AS "UsersEntity_PhoneNumber", "UsersEntity"."PhoneNumberConfirmed" AS "UsersEntity_PhoneNumberConfirmed", "UsersEntity"."TwoFactorEnabled" AS "UsersEntity_TwoFactorEnabled", "UsersEntity"."LockoutEnd" AS "UsersEntity_LockoutEnd", "UsersEntity"."LockoutEnabled" AS "UsersEntity_LockoutEnabled", "UsersEntity"."AccessFailedCount" AS "UsersEntity_AccessFailedCount", "UsersEntity"."BlockchainInfoId" AS "UsersEntity_BlockchainInfoId" FROM "Users" "UsersEntity" WHERE ("UsersEntity"."Email" = $1) LIMIT 1 -- PARAMETERS: ["hermes@ntnu.no"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "UsersBlockchainInfoEntity"."Id" AS "UsersBlockchainInfoEntity_Id", "UsersBlockchainInfoEntity"."UserId" AS "UsersBlockchainInfoEntity_UserId", "UsersBlockchainInfoEntity"."PublicKey" AS "UsersBlockchainInfoEntity_PublicKey", "UsersBlockchainInfoEntity"."PrivateKey" AS "UsersBlockchainInfoEntity_PrivateKey", "UsersBlockchainInfoEntity"."CreatedDate" AS "UsersBlockchainInfoEntity_CreatedDate", "UsersBlockchainInfoEntity"."CreatedBy" AS "UsersBlockchainInfoEntity_CreatedBy", "UsersBlockchainInfoEntity"."UpdatedDate" AS "UsersBlockchainInfoEntity_UpdatedDate", "UsersBlockchainInfoEntity"."UpdatedBy" AS "UsersBlockchainInfoEntity_UpdatedBy", "UsersBlockchainInfoEntity"."IsActive" AS "UsersBlockchainInfoEntity_IsActive" FROM "UsersBlockchainInfo" "UsersBlockchainInfoEntity" WHERE ("UsersBlockchainInfoEntity"."UserId" = $1) LIMIT 1 -- PARAMETERS: ["fcdd22f8-95f0-4699-bce1-28993da499d4"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: SELECT "CustomLevelPackageEntity"."ConsumerPackageId" AS "CustomLevelPackageEntity_ConsumerPackageId", "CustomLevelPackageEntity"."CatchPackageId" AS "CustomLevelPackageEntity_CatchPackageId", "CustomLevelPackageEntity"."PackingDate" AS "CustomLevelPackageEntity_PackingDate", "CustomLevelPackageEntity"."Agent" AS "CustomLevelPackageEntity_Agent" FROM "CustomLevelPackage" "CustomLevelPackageEntity" WHERE "CustomLevelPackageEntity"."ConsumerPackageId" IN ($1) -- PARAMETERS: ["1"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: START TRANSACTION

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

  console.log
    query: UPDATE "CustomLevelPackage" SET "CatchPackageId" = $1 WHERE "ConsumerPackageId" IN ($2) -- PARAMETERS: ["404","1"]

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)
          at async Promise.all (index 0)

  console.log
    query failed: UPDATE "CustomLevelPackage" SET "CatchPackageId" = $1 WHERE "ConsumerPackageId" IN ($2) -- PARAMETERS: ["404","1"]

      at Function.logError (../../../src/platform/PlatformTools.ts:233:17)

  console.log
    error: error: insert or update on table "CustomLevelPackage" violates foreign key constraint "CustomLevelPackage_CatchPackageId_fkey"
        at Parser.parseErrorMessage (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:369:69)
        at Parser.handlePacket (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:188:21)
        at Parser.parse (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/parser.ts:103:30)
        at Socket.<anonymous> (/project/sawtooth-tuna/backend/node_modules/pg-protocol/src/index.ts:7:48)
        at Socket.emit (events.js:314:20)
        at addChunk (_stream_readable.js:297:12)
        at readableAddChunk (_stream_readable.js:272:9)
        at Socket.Readable.push (_stream_readable.js:213:10)
        at TCP.onStreamRead (internal/stream_base_commons.js:188:23) {
      length: 324,
      severity: 'ERROR',
      code: '23503',
      detail: 'Key (CatchPackageId)=(404) is not present in table "CatchPackage".',
      hint: undefined,
      position: undefined,
      internalPosition: undefined,
      internalQuery: undefined,
      where: undefined,
      schema: 'public',
      table: 'CustomLevelPackage',
      column: undefined,
      dataType: undefined,
      constraint: 'CustomLevelPackage_CatchPackageId_fkey',
      file: 'ri_triggers.c',
      line: '2528',
      routine: 'ri_ReportViolation'
    }

      at Function.logError (../../../src/platform/PlatformTools.ts:233:17)

  console.log
    query: ROLLBACK

      at Function.logInfo (../../../src/platform/PlatformTools.ts:229:17)

 FAIL  test/tp/custom-package/custom-package.e2e-spec.ts (7.672 s)
  CustomPackage (e2e)
    ✓ Can authenticate (109 ms)
    ✓ Can create a custom-package with authentication (135 ms)
    ✓ Cant create a custom-package without authentication (7 ms)
    ✕ Can read a custom-package with authentication - known to fail (32 ms)
    ✕ Cant read a custom-package that doesnt exist - known to fail (23 ms)
    ✓ Cant read a custom-package without authentication (4 ms)
    ✓ Can read all custom-packagees with authentication (26 ms)
    ✓ Cant read all custom-packagees without authentication (3 ms)
    ✕ Cant overwrite a custom-package with authentication - known to fail (46 ms)
    ✕ Cant create a custom-package without a related agent - fails because of lacking error handling (99 ms)
    ✕ Cant create a custom-package without a related catchPackageId - fails because of lacking error handling (40 ms)

  ● CustomPackage (e2e) › Can read a custom-package with authentication - known to fail

    expect(received).toEqual(expected) // deep equality

    Expected: "1"
    Received: undefined

      63 |       .set('Authorization', `Bearer ${jwtToken}`)
      64 |       .expect(200)
    > 65 |     expect(response.body.consumerPackageId).toEqual<string>("1")
         |                                             ^
      66 |     expect(response.body.catchPackageId).toEqual<string>("1")
      67 |     expect(response.body.packingDate).toEqual<string>("2022-09-15T14:37:04.837Z")
      68 |     expect(response.body.agent).toEqual<number>(1)

      at Object.<anonymous> (custom-package.e2e-spec.ts:65:45)

  ● CustomPackage (e2e) › Cant read a custom-package that doesnt exist - known to fail

    expected 404 "Not Found", got 200 "OK"

      74 |       .get('/api/v1/sawtooth/tp/custom-package/?custom-packageId=404')
      75 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 76 |       .expect(404)
         |        ^
      77 |     return response
      78 |   });
      79 |

      at Object.<anonymous> (custom-package.e2e-spec.ts:76:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● CustomPackage (e2e) › Cant overwrite a custom-package with authentication - known to fail

    expected 400 "Bad Request", got 201 "Created"

      116 |       })
      117 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 118 |       .expect(400)
          |        ^
      119 |     return response
      120 |   });
      121 |

      at Object.<anonymous> (custom-package.e2e-spec.ts:118:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● CustomPackage (e2e) › Cant create a custom-package without a related agent - fails because of lacking error handling

    expected 400 "Bad Request", got 500 "Internal Server Error"

      130 |       })
      131 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 132 |       .expect(400)
          |        ^
      133 |     return response
      134 |   });
      135 |

      at Object.<anonymous> (custom-package.e2e-spec.ts:132:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

  ● CustomPackage (e2e) › Cant create a custom-package without a related catchPackageId - fails because of lacking error handling

    expected 400 "Bad Request", got 500 "Internal Server Error"

      144 |       })
      145 |       .set('Authorization', `Bearer ${jwtToken}`)
    > 146 |       .expect(400)
          |        ^
      147 |     return response
      148 |   });
      149 |

      at Object.<anonymous> (custom-package.e2e-spec.ts:146:8)
      ----
      at Test._assertStatus (../../../node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/supertest/lib/test.js:120:14)

Test Suites: 1 failed, 1 total
Tests:       5 failed, 6 passed, 11 total
Snapshots:   0 total
Time:        7.783 s, estimated 9 s
Ran all test suites.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! backend@0.0.1 test:e2e:tp:custom-package: `jest --config ./test/jest.tp.custom-package.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the backend@0.0.1 test:e2e:tp:custom-package script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /root/.npm/_logs/2022-10-09T12_51_26_456Z-debug.log
TEST FAILED: custom-package
